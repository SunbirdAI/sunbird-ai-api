# ============================================================================
# Sunbird AI API - Environment Configuration Example
# ============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
APP_NAME=Sunbird AI API
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=development  # Options: development, staging, production

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000
WORKERS=1

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL (Recommended for production)
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/sunbird_ai

# SQLite (Development/Testing)
# DATABASE_URL=sqlite+aiosqlite:///./sunbird_ai.db

# Heroku Postgres (auto-converts postgres:// to postgresql+asyncpg://)
# DATABASE_URL=postgres://user:password@host.compute.amazonaws.com:5432/dbname

# Database Connection Pool Settings
DB_POOL_SIZE=50              # Number of connections (20 in production)
DB_MAX_OVERFLOW=0            # Extra connections when pool exhausted (10 in production)
DB_POOL_RECYCLE=600          # Recycle connections after N seconds
DB_ECHO=false                # Enable SQL query logging (auto-disabled in production)
DB_SSL_ENABLED=false         # Enable SSL for production databases

# ----------------------------------------------------------------------------
# Authentication & Security
# ----------------------------------------------------------------------------
SECRET_KEY=your-secret-key-here-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ----------------------------------------------------------------------------
# TTS Service Configuration
# ----------------------------------------------------------------------------
TTS_API_URL=https://sb-modal-ws--spark-tts-salt-sparktts-generate.modal.run
REQUEST_TIMEOUT_SECONDS=120
MAX_TEXT_LENGTH=10000

# ----------------------------------------------------------------------------
# Google Cloud Platform (GCP) Configuration
# ----------------------------------------------------------------------------
GCP_BUCKET_NAME=your-tts-audio-bucket
GCP_PROJECT_ID=your-gcp-project-id
AUDIO_CONTENT_BUCKET_NAME=sb-asr-audio-content-sb-gcp-project-01
SIGNED_URL_EXPIRY_MINUTES=30

# GCP Service Account Credentials
# Option 1: Path to credentials file (Local development)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Option 2: Service account email for IAM-based signing (Cloud Run - REQUIRED)
# This is needed for generating signed URLs in Cloud Run without a private key
# Get this from: gcloud run services describe SERVICE_NAME --format 'value(spec.template.spec.serviceAccountName)'
# GCP_SERVICE_ACCOUNT_EMAIL=123456789-compute@developer.gserviceaccount.com

# Option 3: Inline JSON credentials (Alternative for cloud deployments)
# GCP_CREDENTIALS_JSON={"type":"service_account",...}

# ----------------------------------------------------------------------------
# RunPod Configuration
# ----------------------------------------------------------------------------
RUNPOD_API_KEY=your-runpod-api-key
RUNPOD_ENDPOINT_ID=your-runpod-endpoint-id

# ----------------------------------------------------------------------------
# Rate Limiting
# ----------------------------------------------------------------------------
PER_MINUTE_RATE_LIMIT=50

# ----------------------------------------------------------------------------
# Feedback & Monitoring
# ----------------------------------------------------------------------------
FEEDBACK_URL=https://your-feedback-endpoint.com/api/feedback

# ----------------------------------------------------------------------------
# External Services
# ----------------------------------------------------------------------------
# Add any other external service configurations here

# ----------------------------------------------------------------------------
# Development/Testing Settings
# ----------------------------------------------------------------------------
# TESTING=true
# TEST_DATABASE_URL=sqlite+aiosqlite:///./test.db
